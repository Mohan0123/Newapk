<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranginx Series Creator - SEO Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* --- THEME --- */
        :root { --bg: #09090b; --surf: #18181b; --border: #27272a; --primary: #e50914; --text: #e4e4e7; }
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }
        
        /* SIDEBAR */
        .sidebar { width: 260px; background: #000; border-right: 1px solid var(--border); padding: 20px; display: flex; flex-direction: column; }
        .brand { color: var(--primary); font-size: 22px; font-weight: 800; margin-bottom: 30px; }
        .menu-item { padding: 12px; background: var(--surf); color: #fff; border-radius: 8px; font-weight: 600; border-left: 3px solid var(--primary); }

        /* MAIN */
        .main { flex: 1; display: flex; flex-direction: column; }
        .top-bar { height: 60px; border-bottom: 1px solid var(--border); display: flex; align-items: center; padding: 0 30px; font-weight: 700; justify-content: space-between; }
        .scroll-view { flex: 1; overflow-y: auto; padding: 30px; }
        .container { max-width: 900px; margin: 0 auto; }
        
        /* FORMS */
        .card { background: var(--surf); padding: 25px; border-radius: 12px; border: 1px solid var(--border); margin-bottom: 25px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .full { grid-column: span 2; }
        label { display: block; margin-bottom: 8px; font-size: 13px; color: #ccc; font-weight: 600; }
        input, textarea { width: 100%; background: #09090b; border: 1px solid var(--border); color: #fff; padding: 12px; border-radius: 6px; }
        textarea { height: 80px; resize: vertical; }
        
        /* EPISODES */
        .ep-box { background: #000; padding: 15px; border-radius: 8px; border: 1px dashed var(--border); }
        .ep-inputs { display: grid; grid-template-columns: 1fr 2fr 2fr auto; gap: 10px; }
        .ep-item { display: flex; justify-content: space-between; background: var(--surf); padding: 10px; margin-bottom: 5px; border-radius: 4px; border: 1px solid var(--border); font-size: 13px; align-items: center; }
        .ep-thumb-prev { width: 40px; height: 25px; object-fit: cover; border-radius: 3px; margin-right: 10px; background: #333; }
        
        /* OUTPUT */
        .output-area { display: none; margin-top: 40px; border-top: 1px dashed var(--border); padding-top: 30px; }
        .code-box { background: #000; border-radius: 8px; margin-bottom: 25px; overflow: hidden; border-left: 5px solid #333; }
        .box-green { border-left-color: #22c55e; } .box-blue { border-left-color: #3b82f6; } .box-yellow { border-left-color: #eab308; }
        .box-head { background: #111; padding: 10px 15px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .copy-btn { background: var(--surf); color: #fff; padding: 6px 14px; border-radius: 4px; border: 1px solid var(--border); cursor: pointer; font-size: 11px; font-weight: 700; }
        pre { padding: 15px; color: #ccc; overflow-x: auto; font-family: monospace; font-size: 12px; max-height: 300px; white-space: pre-wrap; }

        .btn-primary { background: var(--primary); color: #fff; padding: 14px; width: 100%; border: none; border-radius: 6px; font-weight: 700; cursor: pointer; }
        .btn-add { background: var(--primary); color: #fff; padding: 0 20px; border-radius: 6px; font-weight: 700; cursor: pointer; border: none; }
        
        @media (max-width: 768px) { .sidebar{display:none} .grid{grid-template-columns:1fr} .ep-inputs{grid-template-columns:1fr} }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="brand">RANGINX <span>PRO</span></div>
    <div class="menu-item">üì∫ Series Generator</div>
</div>

<div class="main">
    <div class="top-bar">
        <span>Series Generator (SEO + Footer Fix)</span>
        <a href="/" style="color:#fff;text-decoration:none;font-size:13px">üè† HOME</a>
    </div>
    
    <div class="scroll-view">
        <div class="container">
            
            <div class="card">
                <div class="grid">
                    <div class="full"><label>Series Slug (e.g. khoj)</label><input type="text" id="sSlug" placeholder="khoj"></div>
                    <div class="full"><label>Series Name</label><input type="text" id="sTitle" placeholder="Khoj"></div>
                    <div><label>Poster URL (Vertical)</label><input type="text" id="sPoster"></div>
                    <div><label>Tags (Comma separated)</label><input type="text" id="sTags" placeholder="Drama, Romance, Web Series"></div>
                    
                    <div class="full ep-box">
                        <label style="margin-bottom:10px">Episodes</label>
                        <div class="ep-inputs">
                            <input type="text" id="epName" placeholder="Ep 1">
                            <input type="text" id="epUrl" placeholder="Video URL">
                            <input type="text" id="epThumb" placeholder="Thumbnail URL">
                            <button class="btn-add" onclick="addEpisode()">ADD</button>
                        </div>
                        <div id="epList" style="margin-top:15px"></div>
                    </div>

                    <div class="full"><label>Meta Description</label><textarea id="sMeta"></textarea></div>
                    <div class="full"><label>Storyline</label><textarea id="sDesc"></textarea></div>
                </div>
                <div style="margin-top:20px; display:flex; gap:10px">
                    <button class="btn-primary" onclick="generate()">GENERATE ALL CODE</button>
                    <button class="btn-primary" style="background:#333" onclick="resetForm()">RESET</button>
                </div>
            </div>

            <div id="outputArea" class="output-area">
                <div class="code-box box-green">
                    <div class="box-head"><span>1. JSON DATA</span><button class="copy-btn" onclick="copyText('jsonOut')">COPY JSON</button></div>
                    <pre id="jsonOut"></pre>
                </div>
                <div class="code-box box-blue">
                    <div class="box-head"><span>2. MAIN PAGE HTML</span><button class="copy-btn" onclick="copyText('htmlOut')">COPY HTML</button></div>
                    <pre id="htmlOut"></pre>
                </div>
                <div class="code-box box-yellow">
                    <div class="box-head"><span>3. EPISODE PAGES HTML</span><button class="copy-btn" onclick="copyText('epOut')">COPY ALL EPISODES</button></div>
                    <pre id="epOut"></pre>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    let episodes = [];
    let currentSlug = "";

    function addEpisode() {
        let n = document.getElementById('epName').value.trim();
        let u = document.getElementById('epUrl').value.trim();
        let t = document.getElementById('epThumb').value.trim();
        if(!n || !u) return alert("Name & URL required");
        episodes.push({name:n, url:u, thumb:t});
        renderEp();
        document.getElementById('epName').value=""; document.getElementById('epUrl').value=""; document.getElementById('epThumb').value="";
    }

    function renderEp() {
        let h = "";
        episodes.forEach((e,i) => {
            let img = e.thumb ? `<img src="${e.thumb}" class="ep-thumb-prev">` : '';
            h += `<div class="ep-item"><div>${img} <b>${e.name}</b></div> <span style="color:#f00;cursor:pointer" onclick="delEp(${i})">‚úñ</span></div>`;
        });
        document.getElementById('epList').innerHTML = h || '<div style="color:#555;text-align:center;padding:10px">No episodes</div>';
    }
    function delEp(i){ episodes.splice(i,1); renderEp(); }
    
    function resetForm(){
        document.querySelectorAll('input, textarea').forEach(e=>e.value='');
        episodes=[]; renderEp();
        document.getElementById('outputArea').style.display='none';
    }

    // --- HELPER FUNCTIONS ---
    function sanitize(s) { return s.toLowerCase().replace(/[^a-z0-9\s-]/g,'').replace(/\s+/g,'-'); }
    function clean(s) { return s.replace(/"/g,'&quot;').replace(/'/g,'&#39;'); }

    // --- GENERATOR ---
    function generate() {
        let d = {
            name: document.getElementById('sTitle').value.trim(),
            slugRaw: document.getElementById('sSlug').value.trim(),
            poster: document.getElementById('sPoster').value.trim(),
            tags: document.getElementById('sTags').value.trim(),
            meta: document.getElementById('sMeta').value.trim(),
            story: document.getElementById('sDesc').value.trim()
        };

        if(!d.name || !d.slugRaw || episodes.length===0) return alert("Fill required fields!");
        let slug = sanitize(d.slugRaw);
        document.getElementById('sSlug').value = slug;

        // TAGS PROCESSING
        let tagsArr = d.tags.split(',').map(t=>t.trim()).filter(t=>t);
        let tagsHtml = tagsArr.length ? `<div class="tags">${tagsArr.map(t=>`<span class="tag">${t}</span>`).join('')}</div>` : '';

        // 1. JSON
        let json = JSON.stringify({title:d.name, slug:slug, thumbnail:d.poster, type:"series"}, null, 2) + ",";

        // 2. MAIN PAGE
        let visualList = `<div class="ep-list-visual">`;
        episodes.forEach((e, i) => {
            let num = i+1;
            let thumb = e.thumb || d.poster;
            visualList += `
            <a href="/series/${slug}-episode-${num}.html" class="ep-card">
                <div class="thumb-wrap"><img src="${thumb}" class="ep-img"><div class="ep-ov"></div><span class="badge ep-bad">Ep ${num}</span></div>
                <div class="ep-inf"><div class="ep-tit">${d.name} - ${e.name}</div><div class="ep-sub">Click to play</div></div>
            </a>`;
        });
        visualList += `</div>`;

        let mainHtml = `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Watch ${clean(d.name)} Full HD - Ranginx</title>
<meta name="description" content="${clean(d.meta)}">
<meta name="keywords" content="${clean(d.tags)}">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://ranginx.fun/series/${slug}.html">
<meta property="og:type" content="video.tv_show">
<meta property="og:url" content="https://ranginx.fun/series/${slug}.html">
<meta property="og:title" content="${clean(d.name)}">
<meta property="og:image" content="${d.poster}">
<meta property="og:site_name" content="Ranginx">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="/ads/popunder.js" defer><\/script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TVSeries",
  "name": "${clean(d.name)}",
  "image": "${d.poster}",
  "description": "${clean(d.meta)}",
  "provider": { "@type": "Organization", "name": "Ranginx", "url": "https://ranginx.fun" }
}
<\/script>
<style>
:root{--bg:#050505;--card:#121212;--p:#E50914;--t:#fff;--m:#aaa}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--t);line-height:1.5}
a{text-decoration:none;color:inherit;transition:0.2s} a:hover{color:var(--p)}
header{padding:15px 20px;display:flex;justify-content:space-between;align-items:center;background:#000;border-bottom:1px solid #222}
.logo{color:var(--p);font-weight:800;font-size:24px}.home-btn{padding:8px 16px;background:var(--card);border:1px solid #333;border-radius:20px;font-size:12px;color:#fff}
.container{max-width:1100px;margin:0 auto;padding:20px;display:grid;grid-template-columns:7fr 3fr;gap:30px}
@media(max-width:768px){.container{grid-template-columns:1fr}}
.hero-sec{width:100%;aspect-ratio:16/9;background:url('${d.poster}') no-repeat center/cover;position:relative;display:flex;align-items:center;justify-content:center}
.play-main{background:var(--p);color:#fff;padding:12px 30px;border-radius:50px;font-weight:700;display:flex;align-items:center;gap:10px;text-transform:uppercase;font-size:14px;box-shadow:0 10px 20px rgba(229,9,20,0.3)}
.play-main:hover{transform:scale(1.05)}
h1{font-size:24px;margin-bottom:5px}.meta-row{display:flex;gap:10px;font-size:12px;color:var(--m);margin-bottom:20px}
.story-card{background:var(--card);padding:20px;border-radius:12px;border:1px solid #222;margin-bottom:20px}
.tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:15px}
.tag{background:#222;border:1px solid #333;padding:5px 12px;border-radius:50px;font-size:11px;color:#ccc}
.ep-list-visual{display:flex;flex-direction:column;gap:10px;margin-top:20px}
.ep-card{display:flex;background:var(--card);border:1px solid #222;border-radius:8px;overflow:hidden;align-items:center}
.ep-card:hover{border-color:var(--p)}
.thumb-wrap{width:120px;aspect-ratio:16/9;position:relative;flex-shrink:0}
.ep-img{width:100%;height:100%;object-fit:cover}
.ep-bad{position:absolute;bottom:5px;right:5px;background:rgba(0,0,0,0.8);font-size:9px;padding:2px 5px;border-radius:3px}
.ep-inf{padding:10px;flex:1}
.ep-tit{font-size:13px;font-weight:600;margin-bottom:3px;color:#fff}
.ep-sub{font-size:11px;color:#777}
.sec-title{font-weight:700;margin-bottom:15px;border-left:4px solid var(--p);padding-left:10px}
.rel-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.rel-card{background:#111;border-radius:6px;overflow:hidden}.rel-img{width:100%;aspect-ratio:16/9;object-fit:cover}
.rel-title{padding:8px;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
footer{background:#000;padding:40px;text-align:center;font-size:13px;color:#555;border-top:1px solid #222;margin-top:40px}
.f-link{color:#777;margin:0 8px;text-decoration:none}.f-link:hover{color:var(--p)}
</style>
</head>
<body>
<header><div class="logo">RANGINX</div><a href="/" class="home-btn">üè† HOME</a></header>
<div class="hero-sec">
    <div style="background:rgba(0,0,0,0.5);width:100%;height:100%;display:flex;align-items:center;justify-content:center">
        <a href="/series/${slug}-episode-1.html" class="play-main">‚ñ∂ Start Watching</a>
    </div>
</div>
<div class="container">
    <div class="main-col">
        <h1>${clean(d.name)}</h1>
        <div class="meta-row"><span>HD</span><span>Web Series</span><span>Free</span></div>
        <div class="story-card">
            <h3 style="margin-bottom:10px;font-size:16px;color:var(--p)">Storyline</h3>
            <div style="font-size:14px;color:#ccc;line-height:1.6">${clean(d.story)}</div>
            ${tagsHtml}
        </div>
        <h3 style="margin:30px 0 15px;font-size:16px">Episodes</h3>
        ${visualList}
    </div>
    <div class="side-col">
        <div class="sec-title">You May Also Like</div>
        <div class="rel-grid" id="rel"></div>
    </div>
</div>
<footer>
    <div style="margin-bottom:10px">¬© 2025 Ranginx. All rights reserved.</div>
    <div><a href="/dmca.html" class="f-link">DMCA</a>‚Ä¢<a href="/terms.html" class="f-link">Terms</a>‚Ä¢<a href="/privacy.html" class="f-link">Privacy</a></div>
</footer>
<script>
fetch('/data/movies.json').then(r=>r.json()).then(d=>{
    let c="${slug}", h='', j=d.filter(m=>m.slug!==c).slice(0,8);
    j.forEach(m=>{
        let l=m.type==='series'?'/series/':'/movies/', s=m.slug.replace(/^(movies|series)\\//,'').replace('.html','');
        h+=\`<a href="\${l}\${s}.html" class="rel-card"><img src="\${m.thumbnail}" class="rel-img"><div class="rel-title">\${m.title}</div></a>\`;
    });
    document.getElementById('rel').innerHTML=h;
});
<\/script>
</body>
</html>`;

        // 3. EPISODE PAGES
        let epHtmlBlock = "";
        episodes.forEach((e, idx) => {
            let num = idx+1;
            let epSlug = `${slug}-episode-${num}`;
            let prev = idx===0 ? `/series/${slug}.html` : `/series/${slug}-episode-${idx}.html`;
            let next = idx===episodes.length-1 ? '#' : `/series/${slug}-episode-${num+1}.html`;
            
            let isMp4 = e.url.includes('.mp4');
            let player = isMp4 
                ? `<video controls playsinline poster="${d.poster}" style="width:100%;height:100%;object-fit:contain;background:#000"><source src="${e.url}"></video>`
                : `<iframe src="${e.url}" allowfullscreen style="width:100%;height:100%;border:none"></iframe>`;

            epHtmlBlock += `\n<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${clean(d.name)} - Episode ${num}</title>
<meta name="robots" content="noindex, follow">
<link rel="canonical" href="https://ranginx.fun/series/${epSlug}.html">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600&display=swap" rel="stylesheet">
<script src="/ads/popunder.js" defer><\/script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"TVEpisode","episodeNumber":"${num}","name":"${clean(d.name)} Ep ${num}","partOfSeries":{"@type":"TVSeries","name":"${clean(d.name)}"}}<\/script>
<style>
body{background:#050505;color:#fff;font-family:'Outfit',sans-serif;margin:0}
a{text-decoration:none;color:inherit}
.head{padding:15px;background:#000;border-bottom:1px solid #333;display:flex;justify-content:space-between;align-items:center}
.vid{width:100%;aspect-ratio:16/9;background:#000;display:flex;align-items:center;justify-content:center}
.con{max-width:800px;margin:0 auto;padding:20px}
.nav{display:flex;gap:10px;margin:20px 0}
.btn{background:#222;padding:10px 20px;border-radius:5px;border:1px solid #333;font-weight:600}
.nxt{background:#e50914;border:none}
footer{text-align:center;padding:30px;color:#555;font-size:12px;border-top:1px solid #222;margin-top:30px}
.f-link{color:#777;margin:0 5px}
</style>
</head>
<body>
<div class="head"><div style="color:#e50914;font-weight:800;font-size:20px">RANGINX</div><a href="/series/${slug}.html" style="font-size:12px;color:#aaa">‚Üê Back to Series</a></div>
<div class="vid">${player}</div>
<div class="con">
    <h1 style="font-size:20px">${clean(d.name)} - Episode ${num}</h1>
    <div class="nav">
        <a href="${prev}" class="btn">‚Üê Prev</a>
        ${idx < episodes.length-1 ? `<a href="${next}" class="btn nxt">Next Episode ‚Üí</a>` : ''}
    </div>
    <div style="font-size:13px;color:#aaa">You are watching episode ${num}. <a href="/series/${slug}.html" style="color:#e50914">View all episodes</a></div>
</div>
<footer>
    <div>¬© 2025 Ranginx</div>
    <div style="margin-top:5px"><a href="/dmca.html" class="f-link">DMCA</a> <a href="/privacy.html" class="f-link">Privacy</a></div>
</footer>
</body>
</html>\n\n` + "=".repeat(30) + "\n\n";
        });

        document.getElementById('jsonOut').textContent = json;
        document.getElementById('htmlOut').textContent = mainHtml;
        document.getElementById('epOut').textContent = epHtmlBlock;
        document.getElementById('outputArea').style.display = 'block';
    }

    function copyText(id) {
        let t = document.getElementById(id).innerText;
        let a = document.createElement("textarea"); a.value = t; document.body.appendChild(a); a.select(); document.execCommand('copy'); document.body.removeChild(a); alert("Copied!");
    }
</script>
</body>
</html>
